<div class="topnav-container">
    <div class="nav-container">
        <div class="theme-toggle">
            <input type="checkbox" id="ChangeTheme"/>
            <label for="ChangeTheme"> 
                <svg class="moon" id="Moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polygon points="22 17 22 19 21 19 21 20 20 20 20 21 18 21 18 22 16 22 16 23 10 23 10 22 8 22 8 21 6 21 6 20 5 20 5 19 4 19 4 17 3 17 3 15 2 15 2 9 3 9 3 7 4 7 4 5 5 5 5 4 6 4 6 3 8 3 8 2 10 2 10 1 15 1 15 2 13 2 13 3 11 3 11 4 10 4 10 6 9 6 9 8 8 8 8 12 9 12 9 14 10 14 10 16 11 16 11 17 13 17 13 18 15 18 15 19 19 19 19 18 21 18 21 17 22 17"/></svg>
                <svg class="sun" id="Sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polygon points="17 10 17 14 16 14 16 15 15 15 15 16 14 16 14 17 10 17 10 16 9 16 9 15 8 15 8 14 7 14 7 10 8 10 8 9 9 9 9 8 10 8 10 7 14 7 14 8 15 8 15 9 16 9 16 10 17 10"/><path d="m21,11v-1h1v-1h1v-2h-3v-1h-2v-2h-1V1h-2v1h-1v1h-1v1h-2v-1h-1v-1h-1v-1h-2v3h-1v2h-2v1H1v2h1v1h1v1h1v2h-1v1h-1v1h-1v2h3v1h2v2h1v3h2v-1h1v-1h1v-1h2v1h1v1h1v1h2v-3h1v-2h2v-1h3v-2h-1v-1h-1v-1h-1v-2h1Zm-3,4h-1v1h-1v1h-1v1h-6v-1h-1v-1h-1v-1h-1v-6h1v-1h1v-1h1v-1h6v1h1v1h1v1h1v6Z"/></svg>
            </label>
        </div>
        <ul id="menu">
            {{- range site.Menus.main }}
            <a {{ with .Params.class -}} class="{{ . }}" {{ end -}} href="{{ .URL }}">
                {{ .Name }}
            </a>
            {{- end }}
        </ul>
    </div>
</div>

<script>
var checkbox = document.getElementById("ChangeTheme"); // Get the checkbox to a variable

// Check sessionStorage if dark mode was on
if (sessionStorage.getItem("mode") == "dark") {
  darkmode();
} else {
  nodark();
}

// If checkbox state is changed, run a funtion
checkbox.addEventListener("change", function() {
  // Check if the checkbox is checked
  if (checkbox.checked) {
    darkmode();
  } else {
    nodark();
  }
});

// Function for checkbox when checkbox is checked
function darkmode() {
  document.body.classList.add("light");
  checkbox.checked = true;
  sessionStorage.setItem("mode", "dark"); // Store a name and value into sessionStorage
}

// Function for when checkbox is not checked
function nodark() {
  document.body.classList.remove("light");
  checkbox.checked = false;
  sessionStorage.setItem("mode", "light"); // Store a name and value into sessionStorage 
}
</script>
